{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "table",
  "type": "registry:ui",
  "title": "Table",
  "description": "Composable table with Table, TableRow, TableCell",
  "files": [
    {
      "path": "components/pdfx/pdfx-table.tsx",
      "content": "import { Text as PDFText, StyleSheet, View } from '@react-pdf/renderer';\nimport type { Style } from '@react-pdf/types';\nimport React from 'react';\nimport { theme as defaultTheme } from '../lib/pdfx-theme';\n\n/**\n * Table visual variant.\n * - `line`: Horizontal dividers only (Stripe-style). Best for invoices, receipts, quotes.\n * - `grid`: Full borders on all sides. Best for reports, data sheets, comparison tables.\n * - `minimal`: No borders. Structure via spacing/typography. Best for certificates, elegant reports.\n */\nexport type TableVariant = 'line' | 'grid' | 'minimal';\n\n/**\n * Props for the Table component.\n *\n * @example\n * ```tsx\n * <Table variant=\"line\">\n *   <TableHeader>\n *     <TableRow header>...</TableRow>\n *   </TableHeader>\n *   <TableBody>\n *     <TableRow>...</TableRow>\n *   </TableBody>\n * </Table>\n * ```\n */\nexport interface TableProps {\n  /** Custom styles to merge with component defaults */\n  style?: Style;\n  /** Content to render */\n  children: React.ReactNode;\n  /** Visual variant. line = horizontal dividers only. grid = full borders. minimal = borderless. */\n  variant?: TableVariant;\n  /** Enable automatic zebra striping on body rows. */\n  zebraStripe?: boolean;\n}\n\n/**\n * Props for semantic table section wrappers.\n */\nexport interface TableSectionProps {\n  /** Custom styles to merge with component defaults */\n  style?: Style;\n  /** Content to render */\n  children: React.ReactNode;\n}\n\n/**\n * Props for the TableRow component.\n */\nexport interface TableRowProps {\n  /** Custom styles to merge with component defaults */\n  style?: Style;\n  /** Content to render */\n  children: React.ReactNode;\n  /** Header row (uppercase, muted text). */\n  header?: boolean;\n  /** Footer row (totals). Top border, bold text. */\n  footer?: boolean;\n  /** Alternating stripe background. */\n  stripe?: boolean;\n  /** Override table variant (default from parent Table). */\n  variant?: TableVariant;\n}\n\n/**\n * Props for the TableCell component.\n */\nexport interface TableCellProps {\n  /** Custom styles to merge with component defaults */\n  style?: Style;\n  /** Content to render */\n  children: React.ReactNode;\n  /** Header cell styling. */\n  header?: boolean;\n  /** Footer cell styling (bold). */\n  footer?: boolean;\n  /** Text alignment. Use 'right' for amounts/numbers. */\n  align?: 'left' | 'center' | 'right';\n  /** Column width. String ('50%') or number (pts). Omit for equal-width flex. */\n  width?: string | number;\n  /** Override table variant (default from parent TableRow). */\n  variant?: TableVariant;\n  /** Internal: omit right border (last cell in row). */\n  _last?: boolean;\n}\n\n// ─── Theme Caching ────────────────────────────────────────────────────────────\n// Cache styles by theme reference to avoid recreating on every render.\n// This is safe because themes are typically constant per PDF render.\nlet cachedTheme: PdfxTheme | null = null;\nlet cachedStyles: ReturnType<typeof createTableStyles> | null = null;\n\nfunction getStyles(t: any) {\n  if (cachedTheme !== t || !cachedStyles) {\n    cachedStyles = createTableStyles(t);\n    cachedTheme = t;\n  }\n  return cachedStyles;\n}\n\n/** Creates table styles from theme tokens. Zero hardcoded values. */\nfunction createTableStyles(t: any) {\n  const { spacing, borderRadius, letterSpacing, fontWeights, typography } = t.primitives;\n  const borderWidth = spacing[0.5];\n  const borderColor = t.colors.border;\n\n  return StyleSheet.create({\n    // ─── Container ─────────────────────────────────────────────────────────\n    table: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      marginBottom: t.spacing.componentGap,\n    },\n    // Grid variant: Full bordered table with rounded corners\n    tableGrid: {\n      borderWidth: borderWidth,\n      borderColor: borderColor,\n      borderStyle: 'solid',\n      borderTopLeftRadius: borderRadius.md,\n      borderTopRightRadius: borderRadius.md,\n      borderBottomLeftRadius: borderRadius.md,\n      borderBottomRightRadius: borderRadius.md,\n    },\n    // Line variant: Clean, professional look with horizontal lines only\n    tableLine: {\n      borderBottomWidth: borderWidth,\n      borderBottomColor: borderColor,\n      borderBottomStyle: 'solid',\n    },\n    // Minimal variant: Maximum whitespace, subtle styling\n    tableMinimal: {\n      paddingVertical: spacing[2],\n    },\n\n    // ─── Rows ─────────────────────────────────────────────────────────────\n    row: {\n      flexDirection: 'row',\n      display: 'flex',\n    },\n    // Grid variant row styling\n    rowGrid: {\n      borderBottomWidth: borderWidth,\n      borderBottomColor: borderColor,\n      borderBottomStyle: 'solid',\n    },\n    // Line variant row styling (clean horizontal lines)\n    rowLine: {\n      borderBottomWidth: 0,\n    },\n    // Minimal variant row styling\n    rowMinimal: {\n      paddingVertical: spacing[1],\n    },\n    // Header row - grid variant\n    rowHeaderGrid: {\n      backgroundColor: t.colors.muted,\n      borderBottomWidth: borderWidth * 2,\n      borderBottomColor: t.colors.foreground,\n      borderBottomStyle: 'solid',\n    },\n    // Header row - line variant (Stripe-style)\n    rowHeaderLine: {\n      borderBottomWidth: borderWidth * 2,\n      borderBottomColor: borderColor,\n      borderBottomStyle: 'solid',\n    },\n    // Header row - minimal variant\n    rowHeaderMinimal: {\n      borderBottomWidth: borderWidth,\n      borderBottomColor: borderColor,\n      borderBottomStyle: 'solid',\n    },\n    // Footer row styling\n    rowFooter: {\n      borderTopWidth: borderWidth * 2,\n      borderTopColor: borderColor,\n      borderTopStyle: 'solid',\n    },\n    // Alternating stripe background\n    rowStripe: {\n      backgroundColor: t.colors.muted,\n    },\n\n    // ─── Cells ─────────────────────────────────────────────────────────────\n    cell: {\n      flex: 1,\n      paddingVertical: spacing[3],\n      paddingHorizontal: spacing[4],\n    },\n    // Fixed-width cell (when width prop is set)\n    cellFixed: {\n      flex: 0,\n    },\n    // Grid variant: vertical cell dividers\n    cellGridBorder: {\n      borderRightWidth: borderWidth,\n      borderRightColor: borderColor,\n      borderRightStyle: 'solid',\n    },\n    // Minimal variant: adjusted padding\n    cellMinimal: {\n      paddingVertical: spacing[2],\n      paddingHorizontal: spacing[3],\n    },\n\n    // ─── Cell Text Styles ──────────────────────────────────────────────────\n    cellText: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: t.typography.body.fontSize,\n      lineHeight: t.typography.body.lineHeight,\n      color: t.colors.foreground,\n    },\n    // Header cell text - grid variant\n    cellTextHeaderGrid: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: t.typography.body.fontSize,\n      lineHeight: t.typography.body.lineHeight,\n      color: t.colors.foreground,\n      fontWeight: fontWeights.semibold,\n    },\n    // Header cell text - line variant (uppercase, small)\n    cellTextHeaderLine: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: typography.xs,\n      lineHeight: t.typography.body.lineHeight,\n      color: t.colors.mutedForeground,\n      fontWeight: fontWeights.semibold,\n      textTransform: 'uppercase',\n      letterSpacing: letterSpacing.wider * 10, // Scale for pt units\n    },\n    // Header cell text - minimal variant\n    cellTextHeaderMinimal: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: typography.sm,\n      lineHeight: t.typography.body.lineHeight,\n      color: t.colors.mutedForeground,\n      fontWeight: fontWeights.medium,\n    },\n    // Footer cell text (bold for totals)\n    cellTextFooter: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: t.typography.body.fontSize,\n      lineHeight: t.typography.body.lineHeight,\n      color: t.colors.foreground,\n      fontWeight: fontWeights.semibold,\n    },\n  });\n}\n\n// ─── Helper: Process children and propagate variant ───────────────────────────\nfunction processTableChildren(\n  children: React.ReactNode,\n  variant: TableVariant,\n  zebraStripe: boolean\n): React.ReactNode {\n  let bodyRowIndex = 0;\n\n  return React.Children.map(children, (child) => {\n    if (!React.isValidElement(child)) return child;\n\n    // Handle TableHeader, TableBody, TableFooter wrappers\n    if (child.type === TableHeader || child.type === TableBody || child.type === TableFooter) {\n      const isBody = child.type === TableBody;\n      const sectionChild = child as React.ReactElement<TableSectionProps>;\n      const sectionChildren = React.Children.map(sectionChild.props.children, (rowChild) => {\n        if (React.isValidElement(rowChild) && rowChild.type === TableRow) {\n          const rowProps: Partial<TableRowProps> = { variant };\n\n          // Apply zebra striping only to body rows\n          if (isBody && zebraStripe) {\n            const isStripe = bodyRowIndex % 2 === 1;\n            bodyRowIndex++;\n            if (isStripe) {\n              rowProps.stripe = true;\n            }\n          }\n\n          return React.cloneElement(rowChild as React.ReactElement<TableRowProps>, rowProps);\n        }\n        return rowChild;\n      });\n\n      return React.cloneElement(child, {}, sectionChildren);\n    }\n\n    // Handle direct TableRow children (backwards compatibility)\n    if (child.type === TableRow) {\n      return React.cloneElement(child as React.ReactElement<TableRowProps>, { variant });\n    }\n\n    return child;\n  });\n}\n\n// ─── Components ───────────────────────────────────────────────────────────────\n\n/**\n * Semantic wrapper for table header rows.\n * Provides structure and enables future features like sticky headers.\n *\n * @example\n * ```tsx\n * <TableHeader>\n *   <TableRow header>\n *     <TableCell>Name</TableCell>\n *     <TableCell>Price</TableCell>\n *   </TableRow>\n * </TableHeader>\n * ```\n */\nexport function TableHeader({ children, style }: TableSectionProps) {\n  return <View style={style}>{children}</View>;\n}\n\n/**\n * Semantic wrapper for table body rows.\n * Contains the main data rows of the table.\n *\n * @example\n * ```tsx\n * <TableBody>\n *   <TableRow>\n *     <TableCell>Item 1</TableCell>\n *     <TableCell>$100</TableCell>\n *   </TableRow>\n * </TableBody>\n * ```\n */\nexport function TableBody({ children, style }: TableSectionProps) {\n  return <View style={style}>{children}</View>;\n}\n\n/**\n * Semantic wrapper for table footer rows.\n * Contains totals, summaries, or other footer content.\n *\n * @example\n * ```tsx\n * <TableFooter>\n *   <TableRow footer>\n *     <TableCell>Total</TableCell>\n *     <TableCell>$500</TableCell>\n *   </TableRow>\n * </TableFooter>\n * ```\n */\nexport function TableFooter({ children, style }: TableSectionProps) {\n  return <View style={style}>{children}</View>;\n}\n\n/**\n * PDF table container component.\n * Supports three visual variants: line, grid, and minimal.\n *\n * @example\n * ```tsx\n * <Table variant=\"line\" zebraStripe>\n *   <TableHeader>\n *     <TableRow header>\n *       <TableCell width=\"50%\">Description</TableCell>\n *       <TableCell width=\"15%\" align=\"center\">Qty</TableCell>\n *       <TableCell width=\"17.5%\" align=\"right\">Price</TableCell>\n *       <TableCell width=\"17.5%\" align=\"right\">Total</TableCell>\n *     </TableRow>\n *   </TableHeader>\n *   <TableBody>\n *     <TableRow>\n *       <TableCell width=\"50%\">Web Design</TableCell>\n *       <TableCell width=\"15%\" align=\"center\">1</TableCell>\n *       <TableCell width=\"17.5%\" align=\"right\">$2,000</TableCell>\n *       <TableCell width=\"17.5%\" align=\"right\">$2,000</TableCell>\n *     </TableRow>\n *   </TableBody>\n * </Table>\n * ```\n */\nexport function Table({ children, style, variant = 'line', zebraStripe = false }: TableProps) {\n  const styles = getStyles(defaultTheme);\n  const tableStyles: Style[] = [styles.table];\n\n  // Apply variant-specific container styles\n  if (variant === 'grid') {\n    tableStyles.push(styles.tableGrid);\n  } else if (variant === 'line') {\n    tableStyles.push(styles.tableLine);\n  } else if (variant === 'minimal') {\n    tableStyles.push(styles.tableMinimal);\n  }\n\n  const styleArray = style ? [...tableStyles, style] : tableStyles;\n  const processedChildren = processTableChildren(children, variant, zebraStripe);\n\n  return <View style={styleArray}>{processedChildren}</View>;\n}\n\n/**\n * PDF table row component.\n * Renders as a flex row containing TableCell children.\n *\n * @example\n * ```tsx\n * <TableRow header>\n *   <TableCell>Column 1</TableCell>\n *   <TableCell>Column 2</TableCell>\n * </TableRow>\n * ```\n */\nexport function TableRow({\n  header,\n  footer,\n  stripe,\n  children,\n  style,\n  variant = 'line',\n}: TableRowProps) {\n  const styles = getStyles(defaultTheme);\n  const rowStyles: Style[] = [styles.row];\n\n  // Apply variant-specific base row styles\n  if (variant === 'grid') {\n    rowStyles.push(styles.rowGrid);\n  } else if (variant === 'line') {\n    rowStyles.push(styles.rowLine);\n  } else if (variant === 'minimal') {\n    rowStyles.push(styles.rowMinimal);\n  }\n\n  // Apply header row styles\n  if (header) {\n    if (variant === 'line') {\n      rowStyles.push(styles.rowHeaderLine);\n    } else if (variant === 'minimal') {\n      rowStyles.push(styles.rowHeaderMinimal);\n    } else {\n      rowStyles.push(styles.rowHeaderGrid);\n    }\n  }\n\n  // Apply footer row styles\n  if (footer) {\n    rowStyles.push(styles.rowFooter);\n  }\n\n  // Apply stripe styling (only for body rows, not header/footer)\n  if (stripe && !header && !footer) {\n    rowStyles.push(styles.rowStripe);\n  }\n\n  const styleArray = style ? [...rowStyles, style] : rowStyles;\n  const childArray = React.Children.toArray(children);\n  const processedChildren = childArray.map((child, i) => {\n    if (React.isValidElement(child) && child.type === TableCell) {\n      return React.cloneElement(child as React.ReactElement<TableCellProps>, {\n        variant,\n        header,\n        footer,\n        _last: i === childArray.length - 1,\n      });\n    }\n    return child;\n  });\n\n  return <View style={styleArray}>{processedChildren}</View>;\n}\n\n/**\n * PDF table cell component.\n * Renders as a flex cell within a TableRow.\n *\n * @example\n * ```tsx\n * <TableCell width=\"50%\" align=\"left\">Description</TableCell>\n * <TableCell width=\"25%\" align=\"right\">$1,000</TableCell>\n * ```\n */\nexport function TableCell({\n  header,\n  footer,\n  align,\n  width,\n  children,\n  style,\n  variant = 'line',\n  _last,\n}: TableCellProps) {\n  const styles = getStyles(defaultTheme);\n  const cellStyles: Style[] = [styles.cell];\n\n  // Apply fixed width if provided\n  if (width !== undefined) {\n    cellStyles.push(styles.cellFixed);\n    cellStyles.push({ width } as Style);\n  }\n\n  // Apply variant-specific cell styles\n  if (variant === 'minimal') {\n    cellStyles.push(styles.cellMinimal);\n  }\n\n  // Apply cell borders only for grid variant (not line or minimal)\n  if (variant === 'grid' && !_last) {\n    cellStyles.push(styles.cellGridBorder);\n  }\n\n  // Apply alignment\n  if (align) {\n    cellStyles.push({ textAlign: align } as Style);\n  }\n\n  const styleArray = style ? [...cellStyles, style] : cellStyles;\n\n  // Determine text style based on header/footer and variant\n  let textStyle: Style = styles.cellText;\n  if (header) {\n    if (variant === 'line') {\n      textStyle = styles.cellTextHeaderLine;\n    } else if (variant === 'minimal') {\n      textStyle = styles.cellTextHeaderMinimal;\n    } else {\n      textStyle = styles.cellTextHeaderGrid;\n    }\n  } else if (footer) {\n    textStyle = styles.cellTextFooter;\n  }\n\n  // Wrap string children in Text, pass through other elements\n  const content =\n    typeof children === 'string' ? (\n      <PDFText style={[textStyle, align ? { textAlign: align } : {}]}>{children}</PDFText>\n    ) : (\n      children\n    );\n\n  return <View style={styleArray}>{content}</View>;\n}\n",
      "type": "registry:component"
    }
  ],
  "dependencies": [
    "@react-pdf/renderer"
  ],
  "registryDependencies": [
    "theme"
  ]
}