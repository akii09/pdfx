{
  "$schema": "https://pdfx.akashpise.dev/schema/registry-item.json",
  "name": "form",
  "type": "registry:ui",
  "title": "PdfFormSection",
  "description": "Form layout with labeled fields in single, two-column, or three-column layouts",
  "files": [
    {
      "path": "components/pdfx/form/pdfx-form.tsx",
      "content": "import { Text as PDFText, View } from '@react-pdf/renderer';\nimport type { Style } from '@react-pdf/types';\nimport { usePdfxTheme, useSafeMemo } from '../lib/pdfx-theme-context';\nimport { createFormStyles } from './pdfx-form.styles';\nimport type { FormLayout, PdfFormField, PdfFormGroup, PdfFormProps } from './pdfx-form.types';\n\n// ─── Helpers (plain functions, not React components) ──────────────────────────\n// Using plain functions ensures the rendered tree is fully resolved when\n// components are called directly in unit tests (findText traversal works).\n\nfunction renderFieldAbove(\n  field: PdfFormField,\n  idx: number,\n  styles: ReturnType<typeof createFormStyles>\n) {\n  const areaHeight = field.height ?? 18;\n  const areaStyle: Style[] = [styles.fieldArea, { minHeight: areaHeight }];\n\n  return (\n    <View key={`${field.label}-${idx}`} style={styles.fieldAbove}>\n      <PDFText style={styles.labelAbove}>{field.label}</PDFText>\n      <View style={areaStyle}>\n        {field.hint ? <PDFText style={styles.hint}>{field.hint}</PDFText> : null}\n      </View>\n    </View>\n  );\n}\n\nfunction renderFieldLeft(\n  field: PdfFormField,\n  idx: number,\n  styles: ReturnType<typeof createFormStyles>\n) {\n  const areaHeight = field.height ?? 16;\n  const areaStyle: Style[] = [styles.fieldArea, styles.fieldLeftArea, { minHeight: areaHeight }];\n\n  return (\n    <View key={`${field.label}-${idx}`} style={styles.fieldLeft}>\n      <PDFText style={styles.labelLeft}>{field.label}</PDFText>\n      <View style={areaStyle}>\n        {field.hint ? <PDFText style={styles.hint}>{field.hint}</PDFText> : null}\n      </View>\n    </View>\n  );\n}\n\nfunction renderGroup(\n  group: PdfFormGroup,\n  gi: number,\n  styles: ReturnType<typeof createFormStyles>,\n  labelPosition: 'above' | 'left'\n) {\n  const layout: FormLayout = group.layout ?? 'single';\n  const cols = layout === 'three-column' ? 3 : layout === 'two-column' ? 2 : 1;\n\n  const renderField = (field: PdfFormField, idx: number) =>\n    labelPosition === 'left'\n      ? renderFieldLeft(field, idx, styles)\n      : renderFieldAbove(field, idx, styles);\n\n  if (cols === 1) {\n    return (\n      <View key={`group-${gi}`} style={styles.group}>\n        {group.title ? <PDFText style={styles.groupTitle}>{group.title}</PDFText> : null}\n        {group.fields.map(renderField)}\n      </View>\n    );\n  }\n\n  // Split fields evenly across columns\n  const chunkSize = Math.ceil(group.fields.length / cols);\n  const chunks: PdfFormField[][] = [];\n  for (let i = 0; i < group.fields.length; i += chunkSize) {\n    chunks.push(group.fields.slice(i, i + chunkSize));\n  }\n  while (chunks.length < cols) {\n    chunks.push([]);\n  }\n\n  return (\n    <View key={`group-${gi}`} style={styles.group}>\n      {group.title ? <PDFText style={styles.groupTitle}>{group.title}</PDFText> : null}\n      <View style={styles.columnsRow}>\n        {chunks.map((chunk, ci) => (\n          <View key={`col-${gi}-${chunk[0]?.label ?? ci}`} style={styles.column}>\n            {chunk.map(renderField)}\n          </View>\n        ))}\n      </View>\n    </View>\n  );\n}\n\n// ─── PdfForm ──────────────────────────────────────────────────────────────────\n\nexport function PdfForm({\n  title,\n  subtitle,\n  groups,\n  variant = 'underline',\n  labelPosition = 'above',\n  noWrap = false,\n  style,\n}: PdfFormProps) {\n  const theme = usePdfxTheme();\n  const styles = useSafeMemo(() => createFormStyles(theme, variant), [theme, variant]);\n\n  const rootStyles: Style[] = [styles.root];\n  if (style) rootStyles.push(style);\n\n  const inner = (\n    <View style={rootStyles}>\n      {title ? <PDFText style={styles.formTitle}>{title}</PDFText> : null}\n      {subtitle ? <PDFText style={styles.formSubtitle}>{subtitle}</PDFText> : null}\n      {title || subtitle ? <View style={styles.formDivider} /> : null}\n      {groups.map((group, gi) => renderGroup(group, gi, styles, labelPosition))}\n    </View>\n  );\n\n  return noWrap ? <View wrap={false}>{inner}</View> : inner;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/pdfx/form/pdfx-form.styles.ts",
      "content": "import { StyleSheet } from '@react-pdf/renderer';\nimport { usePdfxTheme } from '../lib/pdfx-theme-context';\ntype PdfxTheme = ReturnType<typeof usePdfxTheme>;\nimport type { PdfFormVariant } from './pdfx-form.types';\n\n/**\n * Creates all fillable-form styles derived from the active theme.\n *\n * Design principles:\n *   - Labels: xs uppercase tracked — professional, scannable\n *   - Field areas: clearly defined blank zones (by variant)\n *   - Spacing: tight but breathable — 12pt between fields, 20pt between groups\n *   - Group titles: small-caps divider line style (like Notion forms)\n *\n * @param t       - The resolved PdfxTheme instance.\n * @param variant - Visual style variant for the field areas.\n */\nexport function createFormStyles(t: PdfxTheme, variant: PdfFormVariant = 'underline') {\n  const { spacing, borderRadius, fontWeights, typography } = t.primitives;\n  const borderColor = t.colors.border;\n  const hairline = 0.75; // lighter than spacing[0.5]=2pt — more refined\n  const rule = 1; // group title rule\n\n  // ─── Field area visual per variant ──────────────────────────────────────────\n  const fieldAreaByVariant: Record<PdfFormVariant, object> = {\n    underline: {\n      borderBottomWidth: 1,\n      borderBottomColor: borderColor,\n      borderBottomStyle: 'solid',\n    },\n    box: {\n      borderWidth: hairline,\n      borderColor: borderColor,\n      borderStyle: 'solid',\n      borderRadius: borderRadius.sm,\n    },\n    outlined: {\n      borderWidth: hairline,\n      borderColor: t.colors.foreground,\n      borderStyle: 'solid',\n      borderRadius: borderRadius.md,\n    },\n    ghost: {\n      backgroundColor: t.colors.muted,\n      borderRadius: borderRadius.sm,\n    },\n  };\n\n  const hasPadding = variant === 'box' || variant === 'outlined' || variant === 'ghost';\n\n  return StyleSheet.create({\n    // ─── Form root ───────────────────────────────────────────────────────────\n    root: {\n      width: '100%',\n      marginBottom: t.spacing.componentGap,\n    },\n\n    // ─── Form-level title block ───────────────────────────────────────────────\n    formTitle: {\n      fontFamily: t.typography.heading.fontFamily,\n      fontSize: typography.xl,\n      lineHeight: t.typography.heading.lineHeight,\n      color: t.colors.foreground,\n      fontWeight: fontWeights.bold,\n      marginBottom: spacing[1],\n    },\n    formSubtitle: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: typography.sm,\n      lineHeight: t.typography.body.lineHeight,\n      color: t.colors.mutedForeground,\n      marginBottom: spacing[3],\n    },\n    formDivider: {\n      borderBottomWidth: rule,\n      borderBottomColor: borderColor,\n      borderBottomStyle: 'solid',\n      marginBottom: spacing[4],\n    },\n\n    // ─── Field group ─────────────────────────────────────────────────────────\n    group: {\n      marginBottom: spacing[5],\n    },\n    // Group title: small caps style with a faint rule underneath\n    groupTitle: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: typography.xs,\n      lineHeight: 1.2,\n      color: t.colors.mutedForeground,\n      fontWeight: fontWeights.semibold,\n      textTransform: 'uppercase',\n      letterSpacing: 0.8,\n      marginBottom: spacing[3],\n    },\n\n    // ─── Multi-column layout ──────────────────────────────────────────────────\n    columnsRow: {\n      flexDirection: 'row',\n      gap: spacing[4],\n    },\n    column: {\n      flex: 1,\n    },\n\n    // ─── Field: label ABOVE ───────────────────────────────────────────────────\n    // Compact vertical rhythm — 12pt between fields\n    fieldAbove: {\n      marginBottom: spacing[3],\n      width: '100%',\n    },\n    labelAbove: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: typography.xs,\n      lineHeight: 1.2,\n      color: t.colors.mutedForeground,\n      fontWeight: fontWeights.medium,\n      textTransform: 'uppercase',\n      letterSpacing: 0.5,\n      marginBottom: spacing[1],\n    },\n\n    // ─── Field: label LEFT ────────────────────────────────────────────────────\n    fieldLeft: {\n      flexDirection: 'row',\n      alignItems: 'flex-end',\n      marginBottom: spacing[3],\n      gap: spacing[2],\n    },\n    labelLeft: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: t.typography.body.fontSize,\n      lineHeight: t.typography.body.lineHeight,\n      color: t.colors.mutedForeground,\n      fontWeight: fontWeights.medium,\n      width: 80,\n      paddingBottom: hasPadding ? spacing[1] : 0,\n    },\n    fieldLeftArea: {\n      flex: 1,\n    },\n\n    // ─── Blank field area ─────────────────────────────────────────────────────\n    fieldArea: {\n      width: '100%' as const,\n      ...fieldAreaByVariant[variant],\n    },\n\n    // Hint text inside the field area (format guide)\n    hint: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: typography.xs,\n      color: t.colors.mutedForeground,\n      opacity: 0.6,\n      paddingTop: hasPadding ? spacing[1] : spacing[0.5],\n      paddingBottom: hasPadding ? spacing[1] : 0,\n      paddingHorizontal: hasPadding ? spacing[2] : 0,\n    },\n  });\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/pdfx/form/pdfx-form.types.ts",
      "content": "import type { Style } from '@react-pdf/types';\n\n/** Visual style variant for the fillable form. */\nexport type PdfFormVariant = 'underline' | 'box' | 'outlined' | 'ghost';\n\n/** Column layout for a form section. */\nexport type FormLayout = 'single' | 'two-column' | 'three-column';\n\n/** Label position relative to the field. */\nexport type FormLabelPosition = 'above' | 'left';\n\n/** A single fillable field definition. */\nexport interface PdfFormField {\n  /** Field label shown above or beside the blank area. */\n  label: string;\n  /**\n   * Hint text shown inside the blank area (lighter, smaller).\n   * Use this for format hints like \"DD/MM/YYYY\" or \"e.g. John Smith\".\n   * If omitted, the field area is completely blank.\n   */\n  hint?: string;\n  /**\n   * Height of the blank field area in points.\n   * @default 18 (single-line) — use larger values for multi-line fields\n   */\n  height?: number;\n  /** Optional flex or fixed width. Useful in multi-column grids. */\n  width?: number | string;\n}\n\n/** A logical group of fields with an optional section title. */\nexport interface PdfFormGroup {\n  /** Optional group heading rendered above the fields. */\n  title?: string;\n  /** Fields in this group. */\n  fields: PdfFormField[];\n  /** Column layout for this group's fields. @default 'single' */\n  layout?: FormLayout;\n}\n\n/** Props for the PdfForm component. */\nexport interface PdfFormProps {\n  /** Form-level title (e.g. \"Application Form\", \"Service Request\"). */\n  title?: string;\n  /** Optional subtitle shown below the title. */\n  subtitle?: string;\n  /** Ordered list of field groups. */\n  groups: PdfFormGroup[];\n  /**\n   * Visual style of the blank field areas.\n   * - `underline` — classic bottom-border only (default, most print-friendly)\n   * - `box`       — full rectangle outline (clearer for dense forms)\n   * - `outlined`  — rounded rectangle outline\n   * - `ghost`     — very light filled rectangle, no border\n   */\n  variant?: PdfFormVariant;\n  /** Label position: above the field or to its left. @default 'above' */\n  labelPosition?: FormLabelPosition;\n  /** Prevent the form from splitting across pages. @default false */\n  noWrap?: boolean;\n  /** Custom @react-pdf/renderer styles applied to the root container. */\n  style?: Style;\n}\n",
      "type": "registry:component"
    }
  ],
  "dependencies": [
    "@react-pdf/renderer"
  ],
  "registryDependencies": [
    "theme"
  ]
}