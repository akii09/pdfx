{
  "$schema": "https://pdfx.akashpise.dev/schema/registry-item.json",
  "name": "data-table",
  "type": "registry:ui",
  "title": "DataTable",
  "description": "Convenience API: columns + data array. Uses Table/TableRow/TableCell internally.",
  "files": [
    {
      "path": "components/pdfx/pdfx-data-table.tsx",
      "content": "import { Text as PDFText, StyleSheet } from '@react-pdf/renderer';\nimport type { Style } from '@react-pdf/types';\nimport type React from 'react';\nimport { Fragment } from 'react';\nimport { theme } from '../lib/pdfx-theme';\nimport type { TableVariant } from './pdfx-table';\nimport { Table, TableBody, TableCell, TableFooter, TableHeader, TableRow } from './pdfx-table';\n\n/** DataTable density. 'compact' reduces padding and font size for data-dense views. */\nexport type DataTableSize = 'default' | 'compact';\n\n/** Column definition for DataTable. */\nexport interface DataTableColumn<T = Record<string, unknown>> {\n  /** Key in the row data object. */\n  key: keyof T & string;\n  /** Header label. */\n  header: string;\n  /** Cell alignment. */\n  align?: 'left' | 'center' | 'right';\n  /** Optional width (e.g. '20%', '150'). */\n  width?: string | number;\n  /** Custom cell renderer. Receives row value and full row. */\n  render?: (value: unknown, row: T) => React.ReactNode;\n  /** Custom footer cell renderer. Receives the footer value. */\n  renderFooter?: (value: unknown) => React.ReactNode;\n}\n\n/**\n * Props for the DataTable component.\n * Convenience API for tabular data: columns + data array.\n *\n * @example\n * ```tsx\n * // Compact data-dense table — ideal for user lists, logs, reports\n * <DataTable\n *   size=\"compact\"\n *   variant=\"striped\"\n *   columns={[\n *     { key: 'id', header: 'ID', width: '8%', align: 'center' },\n *     { key: 'name', header: 'Name', width: '22%' },\n *     { key: 'email', header: 'Email', width: '28%' },\n *     { key: 'role', header: 'Role', width: '14%' },\n *     { key: 'dept', header: 'Dept', width: '14%' },\n *     { key: 'status', header: 'Status', width: '14%', align: 'center' },\n *   ]}\n *   data={users}\n * />\n *\n * // Default size — ideal for invoices, summaries\n * <DataTable\n *   variant=\"line\"\n *   columns={[\n *     { key: 'item', header: 'Item', width: '50%' },\n *     { key: 'amount', header: 'Amount', align: 'right', width: '50%' },\n *   ]}\n *   data={lineItems}\n *   footer={{ item: 'Total', amount: '$2,650' }}\n * />\n * ```\n */\nexport interface DataTableProps<T = Record<string, unknown>>\n  extends { style?: Style } {\n  /** Column definitions. */\n  columns: DataTableColumn<T>[];\n  /** Row data. Each object keys should match column keys. */\n  data: T[];\n  /** Visual variant. Defaults to 'line'. */\n  variant?: TableVariant;\n  /** Optional footer row (totals). Keys match column keys. */\n  footer?: Partial<Record<keyof T & string, string | number>>;\n  /** Alternating row stripe (auto-enabled for 'striped' variant). */\n  stripe?: boolean;\n  /** Table density. 'compact' reduces padding and font size for data-dense views. Defaults to 'default'. */\n  size?: DataTableSize;\n}\n\n/** Creates compact override styles from theme. */\nfunction createCompactStyles(t: any) {\n  const { spacing, fontWeights } = t.primitives;\n  return StyleSheet.create({\n    cell: {\n      paddingVertical: spacing[0.5],\n      paddingHorizontal: spacing[2],\n    },\n    text: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: t.primitives.typography.xs,\n      lineHeight: 1.4,\n      color: t.colors.foreground,\n    },\n    headerText: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: t.primitives.typography.xs,\n      lineHeight: 1.4,\n      color: t.colors.foreground,\n      fontWeight: fontWeights.semibold,\n    },\n    footerText: {\n      fontFamily: t.typography.body.fontFamily,\n      fontSize: t.primitives.typography.xs,\n      lineHeight: 1.4,\n      color: t.colors.foreground,\n      fontWeight: fontWeights.semibold,\n    },\n  });\n}\n\nconst compact = createCompactStyles(theme);\n\n/**\n * DataTable - convenience API for data-driven tables.\n * Accepts `columns` + `data`, renders using composable Table primitives with\n * proper semantic wrappers (TableHeader, TableBody, TableFooter).\n *\n * Use `size=\"compact\"` for data-dense views with many columns and rows\n * (user lists, logs, reports). Use default size for invoices and summaries.\n *\n * @example\n * ```tsx\n * <DataTable\n *   size=\"compact\"\n *   variant=\"striped\"\n *   columns={[\n *     { key: 'name', header: 'Name', width: '25%' },\n *     { key: 'email', header: 'Email', width: '30%' },\n *     { key: 'role', header: 'Role', width: '15%' },\n *     { key: 'status', header: 'Status', width: '15%', align: 'center' },\n *     { key: 'joined', header: 'Joined', width: '15%', align: 'right' },\n *   ]}\n *   data={users}\n * />\n * ```\n */\nexport function DataTable<T extends Record<string, unknown>>({\n  columns,\n  data,\n  variant = 'line',\n  footer,\n  stripe = false,\n  size = 'default',\n  style,\n}: DataTableProps<T>) {\n  const isCompact = size === 'compact';\n\n  return (\n    <Table variant={variant} zebraStripe={stripe} style={style}>\n      <TableHeader>\n        <TableRow header>\n          {columns.map((col) => (\n            <TableCell\n              key={col.key}\n              header\n              align={col.align ?? 'left'}\n              width={col.width}\n              style={isCompact ? compact.cell : undefined}\n            >\n              {isCompact ? (\n                <PDFText\n                  style={[compact.headerText, col.align ? ({ textAlign: col.align } as Style) : {}]}\n                >\n                  {col.header}\n                </PDFText>\n              ) : (\n                col.header\n              )}\n            </TableCell>\n          ))}\n        </TableRow>\n      </TableHeader>\n      <TableBody>\n        {data.map((row, i) => (\n          // biome-ignore lint/suspicious/noArrayIndexKey: DataTable has no row id; order is stable for static data\n          <Fragment key={i}>\n            <TableRow>\n              {columns.map((col) => {\n                const value = row[col.key];\n                const rendered = col.render ? col.render(value, row) : null;\n                const text = rendered === null ? formatValue(value) : null;\n                return (\n                  <TableCell\n                    key={col.key}\n                    align={col.align ?? 'left'}\n                    width={col.width}\n                    style={isCompact ? compact.cell : undefined}\n                  >\n                    {isCompact ? (\n                      rendered !== null ? (\n                        rendered\n                      ) : (\n                        <PDFText\n                          style={[\n                            compact.text,\n                            col.align ? ({ textAlign: col.align } as Style) : {},\n                          ]}\n                        >\n                          {text}\n                        </PDFText>\n                      )\n                    ) : rendered !== null ? (\n                      rendered\n                    ) : (\n                      text\n                    )}\n                  </TableCell>\n                );\n              })}\n            </TableRow>\n          </Fragment>\n        ))}\n      </TableBody>\n      {footer && (\n        <TableFooter>\n          <TableRow footer>\n            {columns.map((col) => {\n              const value = col.key in footer ? footer[col.key] : '';\n              const rendered = col.renderFooter ? col.renderFooter(value) : null;\n              const text = rendered === null ? formatValue(value) : null;\n              return (\n                <TableCell\n                  key={col.key}\n                  footer={!!value}\n                  align={col.align ?? 'left'}\n                  width={col.width}\n                  style={isCompact ? compact.cell : undefined}\n                >\n                  {isCompact ? (\n                    rendered !== null ? (\n                      rendered\n                    ) : (\n                      <PDFText\n                        style={[\n                          value ? compact.footerText : compact.text,\n                          col.align ? ({ textAlign: col.align } as Style) : {},\n                        ]}\n                      >\n                        {text}\n                      </PDFText>\n                    )\n                  ) : rendered !== null ? (\n                    rendered\n                  ) : (\n                    text\n                  )}\n                </TableCell>\n              );\n            })}\n          </TableRow>\n        </TableFooter>\n      )}\n    </Table>\n  );\n}\n\nfunction formatValue(value: unknown): string {\n  if (value === null || value === undefined) return '';\n  if (typeof value === 'number') return String(value);\n  return String(value);\n}\n",
      "type": "registry:component"
    }
  ],
  "dependencies": [
    "@react-pdf/renderer"
  ],
  "registryDependencies": [
    "theme"
  ]
}