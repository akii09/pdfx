{
  "$schema": "https://pdfx.akashpise.dev/schema/registry-item.json",
  "name": "report-security",
  "type": "registry:template",
  "title": "Security Report",
  "description": "Security posture report with vulnerability trend tracking, remediation table, and risk summary. Theme-aware via PdfxThemeProvider.",
  "files": [
    {
      "path": "templates/pdfx/report-security/report-security.tsx",
      "type": "registry:template",
      "content": "import { ReportTemplateFrame, type ReportTemplateProps } from './report-layout';\nimport type { BaseReportData } from './report.types';\n\nconst sampleSecurityData: BaseReportData = {\n  title: 'Security Posture Report',\n  subtitle: 'Vulnerability trends, control maturity, and remediation health',\n  generatedAt: 'February 23, 2026',\n  period: 'Sprint 05, 2026',\n  author: 'Security Engineering',\n  summary: [\n    { label: 'Critical Vulns', value: '2', trend: '-3 from last sprint', tone: 'success' },\n    { label: 'Patch SLA', value: '92.0%', trend: '+5.3 pts', tone: 'success' },\n    { label: 'Open Findings', value: '41', trend: '+4', tone: 'warning' },\n    { label: 'Control Score', value: '84/100', trend: '+2 pts', tone: 'info' },\n  ],\n  rows: [\n    {\n      label: 'Identity Hardening',\n      owner: 'E. Brown',\n      status: 'On Track',\n      progress: 87,\n      risk: 'Low',\n    },\n    { label: 'Secrets Rotation', owner: 'P. Nair', status: 'At Risk', progress: 58, risk: 'High' },\n    {\n      label: 'Dependency Scanning',\n      owner: 'I. Shah',\n      status: 'On Track',\n      progress: 81,\n      risk: 'Medium',\n    },\n    { label: 'WAF Policy', owner: 'S. Reed', status: 'On Track', progress: 76, risk: 'Low' },\n  ],\n  series: [\n    { label: 'W1', value: 61 },\n    { label: 'W2', value: 63 },\n    { label: 'W3', value: 64 },\n    { label: 'W4', value: 66 },\n    { label: 'W5', value: 67 },\n    { label: 'W6', value: 68 },\n    { label: 'W7', value: 69 },\n    { label: 'W8', value: 71 },\n    { label: 'W9', value: 72 },\n    { label: 'W10', value: 74 },\n    { label: 'W11', value: 76 },\n    { label: 'W12', value: 78 },\n  ],\n  highlights: [\n    'Critical vulnerabilities reduced through mandatory patch windows.',\n    'Secrets rotation remains the highest-risk stream and needs additional staffing.',\n    'External penetration test scheduled for next sprint to validate fixes.',\n  ],\n};\n\nexport function SecurityReportDocument({ theme, data = sampleSecurityData }: ReportTemplateProps) {\n  return (\n    <ReportTemplateFrame\n      theme={theme}\n      data={data}\n      titlePrefix=\"Security Report\"\n      statusLabel=\"Security: Action Needed\"\n      statusTone=\"destructive\"\n      graphVariant=\"donut\"\n      graphTitle=\"Open risk distribution\"\n      graphSubtitle=\"High/Medium/Low workload share\"\n      graphLegend=\"right\"\n      graphShowValues\n      graphColors={['#DC2626', '#F59E0B', '#16A34A', '#0EA5E9']}\n      graphData={[\n        { label: 'High Risk', value: 14 },\n        { label: 'Medium Risk', value: 17 },\n        { label: 'Low Risk', value: 8 },\n        { label: 'Info', value: 4 },\n      ]}\n    />\n  );\n}\n"
    },
    {
      "path": "templates/pdfx/report-security/report-layout.tsx",
      "type": "registry:template",
      "content": "import type { PdfxTheme } from '../../lib/pdfx-theme';\nimport { Badge } from '../../components/pdfx/badge/pdfx-badge';\nimport { DataTable } from '../../components/pdfx/data-table/pdfx-data-table';\nimport { Divider } from '../../components/pdfx/divider/pdfx-divider';\nimport { KeyValue } from '../../components/pdfx/key-value/pdfx-key-value';\nimport { PageFooter } from '../../components/pdfx/page-footer/pdfx-page-footer';\nimport { PageHeader } from '../../components/pdfx/page-header/pdfx-page-header';\nimport { PdfGraph } from '../../components/pdfx/graph/pdfx-graph';\nimport { PdfList } from '../../components/pdfx/list/pdfx-list';\nimport { Section } from '../../components/pdfx/section/pdfx-section';\nimport { Stack } from '../../components/pdfx/stack/pdfx-stack';\nimport { Text } from '../../components/pdfx/text/pdfx-text';\nimport { PdfxThemeProvider, usePdfxTheme } from '../../lib/pdfx-theme-context';\nimport { Document, Page, StyleSheet, View } from '@react-pdf/renderer';\nimport type { BaseReportData } from './report.types';\n\nexport interface ReportTemplateProps {\n  theme?: PdfxTheme;\n  data?: BaseReportData;\n}\n\ntype ReportGraphVariant = 'bar' | 'horizontal-bar' | 'line' | 'area' | 'pie' | 'donut';\n\ninterface ReportLayoutProps {\n  data: BaseReportData;\n  titlePrefix: string;\n  statusLabel: string;\n  statusTone: 'success' | 'warning' | 'destructive' | 'info';\n  graphVariant: ReportGraphVariant;\n  graphTitle: string;\n  graphSubtitle: string;\n  graphLegend?: 'bottom' | 'right' | 'none';\n  graphShowValues?: boolean;\n  graphColors?: string[];\n  graphData?: Array<{ label: string; value: number }>;\n}\n\nfunction toneColor(theme: PdfxTheme, tone: 'success' | 'warning' | 'destructive' | 'info') {\n  if (tone === 'success') return theme.colors.success;\n  if (tone === 'warning') return theme.colors.warning;\n  if (tone === 'destructive') return theme.colors.destructive;\n  return theme.colors.info;\n}\n\nexport function ReportLayout({\n  data,\n  titlePrefix,\n  statusLabel,\n  statusTone,\n  graphVariant,\n  graphTitle,\n  graphSubtitle,\n  graphLegend = 'none',\n  graphShowValues = false,\n  graphColors,\n  graphData,\n}: ReportLayoutProps) {\n  const theme = usePdfxTheme();\n  const accent = toneColor(theme, statusTone);\n\n  const styles = StyleSheet.create({\n    page: {\n      paddingTop: theme.spacing.page.marginTop,\n      paddingLeft: theme.spacing.page.marginLeft,\n      paddingRight: theme.spacing.page.marginRight,\n      paddingBottom: theme.spacing.page.marginBottom,\n      backgroundColor: theme.colors.background,\n    },\n    toolbar: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: 8,\n    },\n    metricsGrid: {\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      gap: 8,\n    },\n    metricCard: {\n      width: '48.6%',\n      borderWidth: 1,\n      borderStyle: 'solid',\n      borderColor: theme.colors.border,\n      borderRadius: theme.primitives.borderRadius.md,\n      padding: 8,\n      backgroundColor: theme.colors.background,\n    },\n    metricLabel: {\n      fontSize: 8,\n      textTransform: 'uppercase',\n      color: theme.colors.mutedForeground,\n      marginBottom: 2,\n      letterSpacing: 0.5,\n    },\n    metricValue: {\n      fontSize: 14,\n      color: theme.colors.foreground,\n      fontWeight: theme.primitives.fontWeights.bold,\n      marginBottom: 2,\n    },\n    metricTrend: {\n      fontSize: 9,\n      color: theme.colors.mutedForeground,\n    },\n    graphShell: {\n      borderWidth: 1,\n      borderStyle: 'solid',\n      borderColor: theme.colors.border,\n      borderRadius: theme.primitives.borderRadius.md,\n      padding: 12,\n      backgroundColor: theme.colors.background,\n    },\n    twoColumn: {\n      flexDirection: 'row',\n      gap: 10,\n      alignItems: 'flex-start',\n    },\n    col: {\n      flex: 1,\n    },\n  });\n\n  return (\n    <Document title={`${titlePrefix} ${data.period}`}>\n      <Page size=\"A4\" style={styles.page}>\n        <PageHeader\n          variant=\"two-column\"\n          title={data.title}\n          subtitle={`${titlePrefix} · ${data.subtitle}`}\n          rightText={data.period}\n          rightSubText={`Generated ${data.generatedAt}`}\n          marginBottom={14}\n        />\n\n        <View style={styles.toolbar}>\n          <Badge label={statusLabel} variant={statusTone} size=\"sm\" />\n          <Text variant=\"xs\" color=\"mutedForeground\" noMargin>\n            Author: {data.author}\n          </Text>\n        </View>\n\n        <Section variant=\"card\" padding=\"md\" noWrap>\n          <Text variant=\"sm\" transform=\"uppercase\" color=\"mutedForeground\">\n            Executive Summary\n          </Text>\n          <View style={styles.metricsGrid}>\n            {data.summary.map((metric) => (\n              <View\n                key={metric.label}\n                style={[\n                  styles.metricCard,\n                  {\n                    borderLeftWidth: 3,\n                    borderLeftColor: metric.tone ? toneColor(theme, metric.tone) : accent,\n                  },\n                ]}\n              >\n                <Text style={styles.metricLabel} noMargin>\n                  {metric.label}\n                </Text>\n                <Text style={styles.metricValue} noMargin>\n                  {metric.value}\n                </Text>\n                {metric.trend ? (\n                  <Badge label={metric.trend} size=\"sm\" variant={metric.tone ?? 'info'} />\n                ) : null}\n              </View>\n            ))}\n          </View>\n        </Section>\n\n        <Section padding=\"md\" noWrap>\n          <Text variant=\"sm\" transform=\"uppercase\" color=\"mutedForeground\">\n            Performance Trend\n          </Text>\n          <View style={styles.graphShell}>\n            <PdfGraph\n              variant={graphVariant}\n              data={graphData ?? data.series}\n              title={graphTitle}\n              subtitle={graphSubtitle}\n              yLabel={undefined}\n              xLabel={undefined}\n              showGrid={graphVariant !== 'pie' && graphVariant !== 'donut'}\n              showValues={graphShowValues}\n              smooth={graphVariant === 'line' || graphVariant === 'area'}\n              legend={graphLegend}\n              height={200}\n              colors={graphColors}\n              fullWidth\n              containerPadding={12}\n              wrapperPadding={12}\n              style={{ marginBottom: 0 }}\n            />\n          </View>\n        </Section>\n\n        <Section padding=\"md\">\n          <Text variant=\"sm\" transform=\"uppercase\" color=\"mutedForeground\">\n            Delivery Table\n          </Text>\n          <DataTable\n            variant=\"compact\"\n            size=\"compact\"\n            stripe\n            columns={[\n              { key: 'label', header: 'Stream' },\n              { key: 'owner', header: 'Owner' },\n              { key: 'status', header: 'Status', align: 'center' },\n              {\n                key: 'progress',\n                header: 'Progress',\n                align: 'right',\n                render: (value) => `${String(value)}%`,\n              },\n              { key: 'risk', header: 'Risk', align: 'right' },\n            ]}\n            data={data.rows}\n            footer={{\n              label: 'Totals',\n              owner: '-',\n              status: '-',\n              progress: Math.round(\n                data.rows.reduce((sum, row) => sum + row.progress, 0) /\n                  Math.max(data.rows.length, 1)\n              ),\n              risk: '-',\n            }}\n          />\n        </Section>\n\n        <Section padding=\"md\" variant=\"card\" noWrap>\n          <Text variant=\"sm\" transform=\"uppercase\" color=\"mutedForeground\">\n            Highlights & Risks\n          </Text>\n          <View style={styles.twoColumn}>\n            <View style={styles.col}>\n              <PdfList\n                variant=\"checklist\"\n                items={data.highlights.map((item) => ({ text: item, checked: true }))}\n                gap=\"sm\"\n              />\n            </View>\n            <View style={styles.col}>\n              <KeyValue\n                size=\"sm\"\n                divided\n                items={[\n                  {\n                    key: 'Open Risks',\n                    value: `${data.rows.filter((r) => r.risk !== 'Low').length}`,\n                  },\n                  {\n                    key: 'On-Track Streams',\n                    value: `${data.rows.filter((r) => r.status === 'On Track').length}/${data.rows.length}`,\n                  },\n                  {\n                    key: 'Average Progress',\n                    value: `${Math.round(\n                      data.rows.reduce((sum, row) => sum + row.progress, 0) /\n                        Math.max(data.rows.length, 1)\n                    )}%`,\n                  },\n                ]}\n              />\n            </View>\n          </View>\n          <Divider />\n          <Stack gap=\"sm\">\n            <Text variant=\"xs\" color=\"mutedForeground\" noMargin>\n              Best practice: keep each section under one page using `noWrap` for concise blocks.\n            </Text>\n            <Text variant=\"xs\" color=\"mutedForeground\" noMargin>\n              Best practice: pass explicit row keys/owners to avoid ambiguous reporting handoffs.\n            </Text>\n          </Stack>\n        </Section>\n\n        <PageFooter\n          variant=\"three-column\"\n          leftText=\"Confidential — Internal Use\"\n          centerText=\"Generated with PDFx\"\n          rightText=\"Page 1 of 1\"\n          sticky\n          pagePadding={theme.spacing.page.marginLeft}\n        />\n      </Page>\n    </Document>\n  );\n}\n\nexport function ReportTemplateFrame({\n  theme,\n  data,\n  titlePrefix,\n  statusLabel,\n  statusTone,\n  graphVariant,\n  graphTitle,\n  graphSubtitle,\n  graphLegend,\n  graphShowValues,\n  graphColors,\n  graphData,\n}: ReportTemplateProps & {\n  titlePrefix: string;\n  statusLabel: string;\n  statusTone: 'success' | 'warning' | 'destructive' | 'info';\n  graphVariant: ReportGraphVariant;\n  graphTitle: string;\n  graphSubtitle: string;\n  graphLegend?: 'bottom' | 'right' | 'none';\n  graphShowValues?: boolean;\n  graphColors?: string[];\n  graphData?: Array<{ label: string; value: number }>;\n}) {\n  if (!data) return null;\n\n  return (\n    <PdfxThemeProvider theme={theme}>\n      <ReportLayout\n        data={data}\n        titlePrefix={titlePrefix}\n        statusLabel={statusLabel}\n        statusTone={statusTone}\n        graphVariant={graphVariant}\n        graphTitle={graphTitle}\n        graphSubtitle={graphSubtitle}\n        graphLegend={graphLegend}\n        graphShowValues={graphShowValues}\n        graphColors={graphColors}\n        graphData={graphData}\n      />\n    </PdfxThemeProvider>\n  );\n}\n"
    },
    {
      "path": "templates/pdfx/report-security/report.types.ts",
      "type": "registry:template",
      "content": "export interface SummaryMetric {\n  label: string;\n  value: string;\n  trend?: string;\n  tone?: 'success' | 'warning' | 'destructive' | 'info';\n}\n\nexport type ReportRow = Record<string, unknown> & {\n  label: string;\n  owner: string;\n  status: string;\n  progress: number;\n  risk?: string;\n};\n\nexport interface ReportSeriesPoint {\n  label: string;\n  value: number;\n}\n\nexport interface BaseReportData {\n  title: string;\n  subtitle: string;\n  generatedAt: string;\n  period: string;\n  author: string;\n  summary: SummaryMetric[];\n  rows: ReportRow[];\n  series: ReportSeriesPoint[];\n  highlights: string[];\n}\n"
    }
  ],
  "dependencies": ["@react-pdf/renderer"],
  "peerComponents": [
    "badge",
    "data-table",
    "divider",
    "graph",
    "key-value",
    "list",
    "page-footer",
    "page-header",
    "section",
    "stack",
    "text"
  ]
}
