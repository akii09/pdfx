import{j as d}from"./index-BVFh2AD0.js";import{u as F,b as T,V as v,I as j,T as I,S as R}from"./pdf-preview-B-SOP6ZJ.js";const A=["webp","avif","heic","heif","ico"];function G(e){var i;if(typeof e!="string")return null;const t=e.match(/^data:image\/([a-zA-Z0-9+.-]+)/);return t?t[1].toLowerCase():((i=e.split("?")[0].split(".").pop())==null?void 0:i.toLowerCase())??null}function E(e){const t=G(e);t&&A.includes(t)&&console.warn(`[PdfImage] Unsupported format "${t}" detected. react-pdf supports: JPEG, PNG, GIF (first frame), BMP, SVG. Convert to PNG or JPEG before use (e.g. sharp().toFormat('png')).`)}const U={default:{fit:"contain"},"full-width":{width:"100%",fit:"cover"},thumbnail:{width:80,height:80,fit:"cover"},avatar:{width:48,height:48,fit:"cover",borderRadius:999},cover:{width:"100%",height:160,fit:"cover"},bordered:{width:"100%",fit:"contain"},rounded:{width:200,fit:"contain",borderRadius:8}};let y=null,a=null;function C(e){return(y!==e||!a)&&(a=M(e),y=e),a}function M(e){const{spacing:t}=e.primitives;return R.create({container:{display:"flex",flexDirection:"column"},image:{},imageBordered:{borderWidth:1,borderColor:e.colors.border,borderStyle:"solid"},caption:{fontFamily:e.typography.body.fontFamily,fontSize:e.primitives.typography.xs,color:e.colors.mutedForeground,marginTop:t[1],textAlign:"center"}})}function B({src:e,variant:t="default",width:c,height:i,fit:b,position:w="50% 50%",caption:f,aspectRatio:l,borderRadius:x,noWrap:S=!0,style:u}){E(e);const h=F(),n=T(()=>C(h),[h]),r=U[t],s=c??r.width,p=(()=>{if(i!==void 0)return i;if(r.height!==void 0)return r.height;if(l!==void 0&&typeof s=="number")return s/l})(),P=b??r.fit,m=x??r.borderRadius,o=[n.image];s!==void 0&&o.push({width:s}),p!==void 0&&o.push({height:p}),o.push({objectFit:P,objectPosition:w}),m!==void 0&&o.push({borderRadius:m}),t==="bordered"&&o.push(n.imageBordered),u&&o.push(u);const g=d.jsxs(v,{style:n.container,children:[d.jsx(j,{src:e,style:o}),f?d.jsx(I,{style:n.caption,children:f}):null]});return S?d.jsx(v,{wrap:!1,children:g}):g}export{B as P};
