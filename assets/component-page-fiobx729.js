import{r as a,j as e,h as x,k as S,L as F}from"./index-DXO6xX0s.js";import{C as P}from"./code-block-DjMRV15D.js";import{P as I}from"./package-manager-tabs-pROiVELt.js";import{T}from"./table-of-contents-CD6TsaXo.js";const L=12;function q(n,t){return n.split(`
`).slice(0,t).join(`
`)}function E(n){return n.split("/").at(-1)??n}function R(n){return n.endsWith(".tsx")?"tsx":"typescript"}function V({installCommand:n,componentName:t,usageFilename:p,className:f}){const[l,h]=a.useState("command"),[s,b]=a.useState(null),[d,g]=a.useState(0),[c,D]=a.useState(null),[M,N]=a.useState(!1),[v,y]=a.useState(null),[u,k]=a.useState(!1),w=a.useCallback(async()=>{var r;if(s===null){N(!0),y(null);try{const i=await fetch(`/r/${t}.json`);if(!i.ok)throw new Error("Failed to fetch");const m=await i.json();if(D(m),!((r=m.files)!=null&&r.length))throw new Error("No files");b(m.files),g(0)}catch{y("Could not load component code from the registry.")}finally{N(!1)}}},[t,s]);a.useEffect(()=>{l==="manual"&&w()},[l,w]);const o=s==null?void 0:s[d],C=((s==null?void 0:s.length)??0)>1,j=o?o.content.split(`
`).length>L:!1;return e.jsxs("div",{className:x("rounded-lg border overflow-hidden",f),children:[e.jsxs("div",{className:"flex items-center gap-0 border-b bg-muted/40 px-1 pt-1",children:[e.jsx("button",{type:"button",onClick:()=>h("command"),className:x("relative px-4 py-2 text-sm font-medium rounded-t-md transition-all",l==="command"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:"CLI"}),e.jsx("button",{type:"button",onClick:()=>h("manual"),className:x("relative px-4 py-2 text-sm font-medium rounded-t-md transition-all",l==="manual"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:"Manual"})]}),l==="command"?e.jsx(I,{command:n,className:"border-0 rounded-none shadow-none"}):e.jsxs("div",{className:"p-4 bg-background space-y-4",children:[(c==null?void 0:c.registryDependencies)&&c.registryDependencies.length>0&&e.jsx("div",{className:"rounded-lg border border-amber-300 bg-amber-50 dark:border-amber-800 dark:bg-amber-950/20 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"h-5 w-5 text-amber-700 dark:text-amber-500 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-label":"Warning icon",role:"img",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-sm font-semibold text-amber-900 dark:text-amber-200",children:"Dependencies Required"}),e.jsxs("p",{className:"text-sm text-amber-900 dark:text-amber-300",children:["This component requires:"," ",c.registryDependencies.map((r,i)=>{var m;return e.jsxs("span",{children:[e.jsx("code",{className:"rounded bg-amber-200/60 dark:bg-amber-900/40 px-1.5 py-0.5 font-mono text-xs font-semibold text-amber-950 dark:text-amber-100",children:r}),i<(((m=c.registryDependencies)==null?void 0:m.length)??0)-1&&", "]},r)})]}),e.jsx("p",{className:"text-xs text-amber-800 dark:text-amber-400",children:"Using CLI? Dependencies are installed automatically. Manual install? Copy all required components."})]})]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:C?e.jsxs(e.Fragment,{children:["Save each file into"," ",e.jsxs("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs font-mono font-semibold",children:["src/components/pdfx/",t,"/"]})]}):e.jsxs(e.Fragment,{children:["Copy and paste the following code into"," ",e.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs font-mono font-semibold",children:p})]})}),C&&s&&e.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:s.map((r,i)=>e.jsx("button",{type:"button",onClick:()=>{g(i),k(!1)},className:x("px-3 py-1.5 text-xs font-mono font-medium rounded-md border transition-all",d===i?"bg-foreground text-background border-foreground":"bg-background text-muted-foreground border-border hover:border-foreground/40 hover:text-foreground"),children:E(r.path)},r.path))}),e.jsx("div",{className:"overflow-hidden rounded-lg border",children:M?e.jsx("div",{className:"flex items-center justify-center p-8 text-sm text-muted-foreground",children:"Loading..."}):v?e.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:v}):o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:x("relative",!u&&j&&"max-h-[320px] overflow-hidden"),children:[e.jsx(P,{code:u?o.content:q(o.content,L),copyValue:o.content,language:R(o.path),filename:`src/components/pdfx/${t}/${E(o.path)}`,className:"border-0 rounded-none"}),!u&&j&&e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-16 pointer-events-none",style:{background:"linear-gradient(to top, #282c34, transparent)"}})]}),j&&e.jsxs("button",{type:"button",onClick:()=>k(r=>!r),className:"flex w-full items-center justify-center gap-2 border-t border-border bg-muted/30 py-3 text-sm font-medium text-foreground hover:bg-muted/50 transition-colors",children:[e.jsx(S,{className:x("h-4 w-4 shrink-0 transition-transform",u&&"rotate-180"),"aria-hidden":!0}),u?"Collapse":"Expand"]})]}):null}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Not set up yet?"," ",e.jsx(F,{to:"/docs#installation",className:"text-foreground underline font-medium",children:"Follow the installation guide"})," ","to configure your project first."]})]})]})}function W({props:n}){return e.jsx("div",{className:"overflow-x-auto rounded-lg border",children:e.jsxs("table",{className:"w-full min-w-[640px] text-sm",children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-[140px]"}),e.jsx("col",{className:"w-auto"}),e.jsx("col",{className:"w-[100px]"}),e.jsx("col",{className:"w-[40%]"})]}),e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[e.jsx("th",{className:"px-4 py-3 text-left font-medium text-muted-foreground",children:"Prop"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-muted-foreground",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-muted-foreground",children:"Default"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-muted-foreground",children:"Description"})]})}),e.jsx("tbody",{children:n.map(t=>e.jsxs("tr",{className:"border-b last:border-b-0",children:[e.jsx("td",{className:"px-4 py-3 align-top",children:e.jsxs("code",{className:"rounded bg-muted px-1.5 py-0.5 text-xs font-mono",children:[t.name,t.required&&e.jsx("span",{className:"text-destructive ml-0.5",children:"*"})]})}),e.jsx("td",{className:"px-4 py-3 align-top",children:e.jsx("code",{className:"text-xs font-mono text-muted-foreground break-words",children:t.type})}),e.jsx("td",{className:"px-4 py-3 align-top text-muted-foreground",children:t.defaultValue?e.jsx("code",{className:"text-xs font-mono",children:t.defaultValue}):e.jsx("span",{className:"text-xs",children:"-"})}),e.jsx("td",{className:"px-4 py-3 align-top text-muted-foreground",children:t.description})]},t.name))})]})})}function A({title:n,description:t,installCommand:p,componentName:f,preview:l,usageCode:h,usageFilename:s,props:b,additionalInfo:d}){const g=a.useMemo(()=>[{id:"installation",title:"Installation",level:2},...d?[{id:"requirements",title:"Requirements",level:2}]:[],{id:"usage",title:"Usage",level:2},{id:"preview",title:"Preview",level:2},{id:"props",title:"Props",level:2}],[d]);return e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0 py-12 max-w-4xl",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-3",children:n}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:t})]}),e.jsxs("section",{id:"installation",className:"mb-10 scroll-mt-20",children:[e.jsx("h2",{className:"text-lg font-semibold tracking-tight mb-3",children:"Installation"}),e.jsx(V,{installCommand:p,componentName:f,usageFilename:s})]}),d&&e.jsxs("section",{id:"requirements",className:"mb-10 scroll-mt-20",children:[e.jsx("h2",{className:"text-lg font-semibold tracking-tight mb-3",children:"Requirements"}),d]}),e.jsxs("section",{id:"usage",className:"mb-10 scroll-mt-20",children:[e.jsx("h2",{className:"text-lg font-semibold tracking-tight mb-3",children:"Usage"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Copy the code below and use it in your PDF document."}),e.jsx(P,{code:h,language:"tsx",filename:s})]}),e.jsxs("section",{id:"preview",className:"mb-10 scroll-mt-20",children:[e.jsx("h2",{className:"text-lg font-semibold tracking-tight mb-3",children:"Preview"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"See how it renders in a PDF:"}),l]}),e.jsxs("section",{id:"props",className:"mb-10 scroll-mt-20",children:[e.jsx("h2",{className:"text-lg font-semibold tracking-tight mb-3",children:"Props"}),e.jsx(W,{props:b})]})]}),e.jsx(T,{items:g})]})}export{A as C};
